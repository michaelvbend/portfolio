<section>
  <h1 class="text-3xl md:text-5xl font-bold">Contact</h1>
  <hr class="border-1 my-5" />

  <div class="flex flex-col md:flex-row md:space-x-10 lg:space-x-40">
    <div>
      <h2 class="text-2xl font-semibold mb-4">Reach out</h2>

      <a
        class="block bg-blue-500 text-white py-2 px-4 rounded mb-2 hover:bg-blue-700"
        href="mailto:{{ email }}"
        >Email</a
      >
      <a
        class="block bg-blue-700 text-white py-2 px-4 rounded mb-2 hover:bg-blue-900"
        href="{{ linkedin }}"
        >LinkedIn</a
      >
      <a
        class="block bg-gray-800 text-white py-2 px-4 rounded mb-2 hover:bg-gray-900"
        href="{{ github }}"
        >GitHub</a
      >
    </div>
    <div class="flex-1">
      <p class="mt-4 md:mt-0">Send message</p>
      <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
        <div class="mb-4">
          <label for="name-field" class="block">Name:</label>
          <input
            id="name-field"
            type="text"
            formControlName="name"
            class="w-full p-2 border rounded"
          />
          <ng-container
            *ngTemplateOutlet="errorMessage; context: { formControl: 'name' }"
          ></ng-container>
        </div>
        <div class="mb-4">
          <label for="company" class="block">Company:</label>
          <input
            id="company"
            type="text"
            formControlName="company"
            class="w-full p-2 border rounded"
          />
          <ng-container
            *ngTemplateOutlet="
              errorMessage;
              context: { formControl: 'company' }
            "
          ></ng-container>
        </div>
        <div class="mb-4">
          <label for="email-field" class="block">Email:</label>
          <input
            id="email-field"
            type="email"
            formControlName="email"
            class="w-full p-2 border rounded"
          />
          <ng-container
            *ngTemplateOutlet="errorMessage; context: { formControl: 'email' }"
          ></ng-container>
        </div>
        <div class="mb-4">
          <label for="message-field" class="block">Message:</label>
          <textarea
            id="message-field"
            formControlName="message"
            class="w-full p-2 border rounded"
          ></textarea>
          <ng-container
            *ngTemplateOutlet="
              errorMessage;
              context: { formControl: 'message' }
            "
          ></ng-container>
        </div>
        <button
          type="submit"
          class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700"
        >
          Send
        </button>
      </form>
    </div>
  </div>
</section>

<ng-template #errorMessage let-formControl="formControl">
  @if (contactForm.get(formControl)?.dirty) {
  <p>{{ contactForm.get(formControl)?.errors | validationError }}</p>
  }
</ng-template>
